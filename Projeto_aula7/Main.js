var cartas = [{
    nome: 'Androxus',
    atributos: {
        ataque: 70,
        defesa: 75,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/e/e8/Banner_Androxus.png"
}, {
    nome: 'Ash',
    atributos: {
        ataque: 65,
        defesa: 85,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/b/bd/Banner_Ash.png"
}, {
    nome: 'Atlas',
    atributos: {
        ataque: 80,
        defesa: 85,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/5/55/Banner_Atlas.png"
}, {
    nome: 'Barik',
    atributos: {
        ataque: 70,
        defesa: 65,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/e/ec/Banner_Barik.png"
}, {
    nome: 'Bomb King',
    atributos: {
        ataque: 85,
        defesa: 60,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/c/ca/Banner_Bomb_King.png"
}, {
    nome: 'Buck',
    atributos: {
        ataque: 75,
        defesa: 80,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/6/6c/Banner_Buck.png"
}, {
    nome: 'Cassie',
    atributos: {
        ataque: 85,
        defesa: 65,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/9/92/Banner_Cassie.png"
}, {
    nome: 'Corvus',
    atributos: {
        ataque: 65,
        defesa: 75,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/6/64/Banner_Corvus.png"
}, {
    nome: 'Dredge',
    atributos: {
        ataque: 85,
        defesa: 60,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/4/4e/Banner_Dredge.png"
}, {
    nome: 'Drogoz',
    atributos: {
        ataque: 85,
        defesa: 70,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/6/69/Banner_Drogoz.png"
}, {
    nome: 'Evie',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/e/ee/Banner_Evie.png"
}, {
    nome: 'Fernando',
    atributos: {
        ataque: 70,
        defesa: 85,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/b/b1/Banner_Fernando.png"
}, {
    nome: 'Furia',
    atributos: {
        ataque: 70,
        defesa: 70,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/0/07/Banner_Furia.png"
}, {
    nome: 'Grohk',
    atributos: {
        ataque: 55,
        defesa: 70,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/7/7d/Banner_Grohk.png"
}, {
    nome: 'Grover',
    atributos: {
        ataque: 80,
        defesa: 60,
        magia: 55
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/4/45/Banner_Grover.png"
}, {
    nome: 'Imani',
    atributos: {
        ataque: 85,
        defesa: 65,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/f/fc/Banner_Imani.png"

}, {
    nome: 'Inara',
    atributos: {
        ataque: 70,
        defesa: 85,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/3/3b/Banner_Inara.png"
}, {
    nome: 'Io',
    atributos: {
        ataque: 65,
        defesa: 70,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/9/9f/Banner_Io.png"
}, {
    nome: 'Jenos',
    atributos: {
        ataque: 60,
        defesa: 70,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/e/e4/Banner_Jenos.png"
}, {
    nome: 'Khan',
    atributos: {
        ataque: 65,
        defesa: 80,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/b/bd/Banner_Khan.png"
}, {
    nome: 'Kinessa',
    atributos: {
        ataque: 85,
        defesa: 65,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/d/d5/Banner_Kinessa.png"
}, {
    nome: 'Koga',
    atributos: {
        ataque: 65,
        defesa: 70,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/5/51/Banner_Koga.png"
}, {
    nome: 'Lex',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/a/a3/Banner_Lex.png"
}, {
    nome: 'Lian',
    atributos: {
        ataque: 80,
        defesa: 65,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/a/ac/Banner_Lian.png"
}, {
    nome: 'Maeve',
    atributos: {
        ataque: 75,
        defesa: 75,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/7/7e/Banner_Maeve.png"
}, {
    nome: 'Makoa',
    atributos: {
        ataque: 70,
        defesa: 85,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/d/d0/Banner_Makoa2.png"
}, {
    nome: 'Mal\'Damba',
    atributos: {
        ataque: 65,
        defesa: 60,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/4/47/Banner_Mal%27Damba.png"
}, {
    nome: 'Moji',
    atributos: {
        ataque: 75,
        defesa: 80,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/9/93/Banner_Moji.png"
}, {
    nome: 'Octavia',
    atributos: {
        ataque: 75,
        defesa: 70,
        magia: 60
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/6/6e/Octavia_Default.png"
}, {
    nome: 'Pip',
    atributos: {
        ataque: 70,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/f/f4/Banner_Pip.png"
}, {
    nome: 'Raum',
    atributos: {
        ataque: 75,
        defesa: 90,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/b/b2/Banner_Raum.png"
}, {
    nome: 'Ruckus',
    atributos: {
        ataque: 80,
        defesa: 75,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/6/67/Banner_Ruckus.png"
}, {
    nome: 'Seris',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/b/ba/Banner_Seris.png"
}, {
    nome: 'Pip',
    atributos: {
        ataque: 65,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/f/f4/Banner_Pip.png"
}, {
    nome: 'Sha lin',
    atributos: {
        ataque: 85,
        defesa: 70,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/0/0b/Banner_Sha_Lin.png"
}, {
    nome: 'Skye',
    atributos: {
        ataque: 70,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/8/8d/Banner_Skye.png"
}, {
    nome: 'Strix',
    atributos: {
        ataque: 80,
        defesa: 70,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/c/cc/Banner_Strix.png"
}, {
    nome: 'Talus',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/4/4e/Banner_Talus.png"
}, {
    nome: 'Terminus',
    atributos: {
        ataque: 75,
        defesa: 90,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/8/8f/Banner_Terminus.png"
}, {
    nome: 'Tiberius',
    atributos: {
        ataque: 85,
        defesa: 70,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/1/1d/Banner_Tiberius.png"
}, {
    nome: 'Torvald',
    atributos: {
        ataque: 65,
        defesa: 75,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/9/9a/Banner_Torvald.png"
}, {
    nome: 'Tyra',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/0/0c/Banner_Tyra.png"
}, {
    nome: 'Viktor',
    atributos: {
        ataque: 80,
        defesa: 65,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/1/1a/Banner_Viktor.png"
}, {
    nome: 'Vivian',
    atributos: {
        ataque: 80,
        defesa: 65,
        magia: 70
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/8/87/Banner_Vivian.png"
}, {
    nome: 'Vora',
    atributos: {
        ataque: 80,
        defesa: 70,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/c/c8/Banner_Vora.png"
}, {
    nome: 'Willo',
    atributos: {
        ataque: 75,
        defesa: 65,
        magia: 75
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/1/19/Banner_Willo.png"
}, {
    nome: 'Yagorath',
    atributos: {
        ataque: 75,
        defesa: 90,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/a/a6/Banner_Yagorath.png"
}, {
    nome: 'Ying',
    atributos: {
        ataque: 70,
        defesa: 75,
        magia: 80
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/7/7d/Banner_Ying.png"
}, {
    nome: 'zhin',
    atributos: {
        ataque: 80,
        defesa: 75,
        magia: 65
    },
    imagem: "https://static.wikia.nocookie.net/paladins_gamepedia/images/1/13/Banner_Zhin.png"
}, {
    nome: 'Mr. Satan',
    atributos: {
        ataque: 999,
        defesa: 999,
        magia: 999
    },
    imagem: "https://nipop.files.wordpress.com/2012/01/mr-satan.jpg?w=300"

}]

var cartaMaquina
var cartaJogador
var pontosJogador = 0
var pontosMaquina = 0

function sortearCarta() {
    let numeroCartaMaquina = parseInt(Math.random() * cartas.length)
    cartaMaquina = cartas[numeroCartaMaquina]
    cartas.splice(numeroCartaMaquina, 1)// Remove uma carta do baralho

    let numeroCartaJogador = parseInt(Math.random() * cartas.length)
    while (numeroCartaJogador == numeroCartaMaquina) {
        numeroCartaJogador = parseInt(Math.random() * cartas.length)
    }
    cartaJogador = cartas[numeroCartaJogador]
    cartas.splice(numeroCartaJogador, 1) // Remove uma carta do baralho

    document.querySelector('.title-cartas').innerHTML = `<p>Restam ${cartas.length} cartas no baralho</p>`

    console.log(cartas)
    let jogador = document.querySelector('.moldura')
    jogador.innerHTML = `<p>${cartaJogador.nome}</p><img class="molduraTest" src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent.png" style=" width: 300px; height: 500px;"><div class='habilidadesCarta'><p>Ataque: ${cartaJogador.atributos.ataque}</p><p>Defesa: ${cartaJogador.atributos.defesa}</p><p>Magia: ${cartaJogador.atributos.magia}</p></div>`

    document.querySelector('.molduraTest').style.backgroundImage = `url(${cartaJogador.imagem})`

    //let moldura = '<img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent.png" style=" width: inherit; height: inherit; position: absolute;">'


    //jogador.innerHTML += `<div class='player1'><h2>${cartaJogador.nome}</h2><img src="${cartaJogador.imagem}"><p>Ataque: ${cartaJogador.atributos.ataque}</p><p>Defesa: ${cartaJogador.atributos.defesa}</p><p>Magia: ${cartaJogador.atributos.magia}</p></div>`

    document.querySelector('#btnSortear').disabled = true

    exibirOpcoes()
}

function exibirOpcoes() {
    let opcoes = document.querySelector('#opcoes')
    let opcoesTexto = ""
    for (let atributo in cartaJogador.atributos) {
        if (atributo == "ataque") {
            opcoesTexto += `<div class="valorSelecao"><span value='ataque'>Ataque: </span><a href='#'><img onclick='ataque()' class='ratioImg' src='https://opengameart.org/sites/default/files/Attack.png' alt='Ataque'></a><br>`

        } else if (atributo == "defesa") {
            opcoesTexto += `<span>Defesa: </span><a href='#'><img onclick="defesa()" class='ratioImg'src='https://previews.123rf.com/images/valentint/valentint1506/valentint150602566/41149061-shield-icon-internet-button-on-white-background.jpg' alt='Defesa'></a><br>`

        } else {
            opcoesTexto += `<span>Magia: </span><a href='#'><img onclick="magia()" class='ratioImg' src='https://previews.123rf.com/images/hobbitfoot/hobbitfoot1709/hobbitfoot170900921/86053567-bottle-of-cold-game-icon-of-magic-elixir-interface-for-rpg-or-match3-game-cold-winter-snow-small-var.jpg' alt='Magia'></a></div>`
        }
    }
    opcoes.innerHTML = opcoesTexto
}

function ataque() {
    ouvirAudio()
    setTimeout(() => {
        novoJogador()
        ataqueJogador = cartaJogador.atributos.ataque
        ataqueMaquina = cartaMaquina.atributos.ataque

        if (ataqueJogador > ataqueMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você venceu!!!</p>'
            pontosJogador++
        } else if (ataqueJogador < ataqueMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você perdeu!!!</p>'
            pontosMaquina++
        } else {
            document.querySelector('#form').innerHTML = '<p>Empatou</P>'
        }
        document.querySelector('.title-cartas').innerHTML = `<p style='color: red;'>Jogador: ${pontosJogador} | ${pontosMaquina} :Adversário</p>`
        document.querySelector('#form').innerHTML += `<button type='button' onclick='proximaRodada()'>Próxima rodada</button>`
    }, 2000)
}

function defesa() {
    ouvirAudio()
    setTimeout(() => {
        novoJogador()
        defesaJogador = cartaJogador.atributos.defesa
        defesaMaquina = cartaMaquina.atributos.defesa

        if (defesaJogador > defesaMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você venceu!!!</p>'
            pontosJogador++
        } else if (defesaJogador < defesaMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você perdeu!!!</p>'
            pontosMaquina++
        } else {
            document.querySelector('#form').innerHTML = '<p>Empatou</P>'
        }
        document.querySelector('.title-cartas').innerHTML = `<p style='color: red;'>Jogador: ${pontosJogador} | ${pontosMaquina} :Adversário</p>`
        document.querySelector('#form').innerHTML += `<button type='button' onclick='proximaRodada()'>Proxima rodada</button>`
    }, 2000)
}

function magia() {
    ouvirAudio()
    setTimeout( () => {
        novoJogador()
        magiaJogador = cartaJogador.atributos.magia
        magiaMaquina = cartaMaquina.atributos.magia

        if (magiaJogador > magiaMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você venceu!!!</p>'
            pontosJogador++
        } else if (magiaJogador < magiaMaquina) {
            document.querySelector('#form').innerHTML = '<p>Você perdeu!!!</p>'
            pontosMaquina++
        } else {
            document.querySelector('#form').innerHTML = '<p>Empatou</P>'
        }
        document.querySelector('.title-cartas').innerHTML = `<p style='color: red;'>Jogador: ${pontosJogador} | ${pontosMaquina} :Adversário</p>`
        document.querySelector('#form').innerHTML += `<button type='button' onclick='proximaRodada()'>Proxima rodada</button>`

    }, 2000)
}

function novoJogador() {
    // Criando a carta do jogador 2 no documento html
    let maquina = document.querySelector('.molduraAnterior')
    maquina.innerHTML = `<p>${cartaMaquina.nome}</p><img class="moldura2" src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent.png" style=" width: 300px; height: 500px;"><div class='habilidadesCarta'><p>Ataque: ${cartaMaquina.atributos.ataque}</p><p>Defesa: ${cartaMaquina.atributos.defesa}</p><p>Magia: ${cartaMaquina.atributos.magia}</p></div>`


    document.querySelector('.moldura2').style.backgroundImage = `url(${cartaMaquina.imagem})`

    //document.querySelector('#carta').innerHTML += `<div class='player2'><h2>${cartaMaquina.nome}</h2><img src="${cartaMaquina.imagem}"><p>Ataque: ${cartaMaquina.atributos.ataque}</p><p>Defesa: ${cartaMaquina.atributos.defesa}</p><p>Magia: ${cartaMaquina.atributos.magia}</p></div>`

}

function ouvirAudio() {
    let audio = `<audio autoplay><source src='https://www.partnersinrhyme.com/files/sounds1/MP3/human/fight/attack.mp3' type='audio/mpeg'></audio>`
    document.querySelector('#form').innerHTML = audio
}

function proximaRodada() {
    document.querySelector('#btnSortear').innerHTML
    let inicio = document.querySelector('#carta')
    inicio.innerHTML = `<h2>Escolha o seu atributo</h2>
                        <div class="title-cartas"></div>
                        <div class="moldura">
                            <div class="molduraImagem"></div>
                        </div>
                        <div class="molduraAnterior">
                            <div class='moldura2'></div>
                        </div>`
}

function jogarNovamente() {
    location.reload()
}